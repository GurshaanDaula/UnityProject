<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>DBZ Battle Arena</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Favicon -->
  <link rel="icon" href="TemplateData/favicon.ico" />

  <!-- Google Font (Saiyan-style boldness) -->
  <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@300;700&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      background: radial-gradient(circle at center, #1a1a1a 0%, #000000 100%);
      overflow: hidden;
      font-family: 'Oxanium', sans-serif;
      color: #fff;
    }

    /* Subtle animated glow */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background: url("TemplateData/unity-logo-dark.png") center / cover;
      opacity: 0.06;
      animation: pulse 5s infinite alternate;
      pointer-events: none;
      filter: blur(6px);
    }

    @keyframes pulse {
      from {
        opacity: 0.04;
      }

      to {
        opacity: 0.09;
      }
    }

    #gameContainer {
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    canvas {
      outline: none;
      border: 4px solid #ffcc00;
      border-radius: 10px;
      box-shadow: 0 0 25px #ffcc00aa;
    }

    /* Loading Screen */
    #loadingOverlay {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.85);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 10;
    }

    #loadingTitle {
      font-size: 40px;
      margin-bottom: 25px;
      text-shadow: 0 0 15px #ffcc00;
    }

    #loadingBar {
      width: 60%;
      max-width: 500px;
      height: 20px;
      border: 2px solid #ffcc00;
      border-radius: 10px;
      overflow: hidden;
      background: #222;
    }

    #loadingFill {
      width: 0%;
      height: 100%;
      background: linear-gradient(90deg, #ffcc00, #ff3300);
      transition: width 0.2s;
    }

    #loadingPercent {
      margin-top: 12px;
      font-size: 18px;
    }

    @media(max-width: 900px) {
      #loadingTitle {
        font-size: 28px;
      }
    }
  </style>
</head>

<body>

  <div id="gameContainer">
    <!-- LOADING OVERLAY -->
    <div id="loadingOverlay">
      <div id="loadingTitle">âš¡ Charging Ki...</div>
      <div id="loadingBar">
        <div id="loadingFill"></div>
      </div>
      <div id="loadingPercent">0%</div>
    </div>

    <!-- Unity will inject the canvas here -->
    <canvas id="unity-canvas"></canvas>
  </div>

  <!-- Unity Loader -->
  <script src="Build/public.loader.js"></script>

  <script>
    const container = document.getElementById("gameContainer");
    const canvas = document.getElementById("unity-canvas");

    const loadingOverlay = document.getElementById("loadingOverlay");
    const loadingFill = document.getElementById("loadingFill");
    const loadingPercent = document.getElementById("loadingPercent");

    createUnityInstance(canvas, {
      dataUrl: "Build/public.data.br",
      frameworkUrl: "Build/public.framework.js.br",
      codeUrl: "Build/public.wasm.br",
      streamingAssetsUrl: "StreamingAssets",
      companyName: "DefaultCompany",
      productName: "DBZ-Battle_Game",
      productVersion: "1.0",
      decompressionFallback: "true"
    }, (progress) => {
      // Update loading bar
      loadingFill.style.width = `${progress * 100}%`;
      loadingPercent.textContent = Math.round(progress * 100) + "%";
    }).then((instance) => {
      // Hide loading overlay when complete
      loadingOverlay.style.display = "none";
    }).catch((err) => {
      console.error(err);
      loadingTitle.innerText = "Error Loading Game";
      loadingPercent.innerText = "";
    });
  </script>

</body>

</html>